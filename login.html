<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>CloudVault — Login</title>
<link rel="stylesheet" href="style.css">
</head>
<body>

<!-- CAUTION TAPE X — shown only if server unreachable -->
<div class="tape-wrap" id="tapeWrap" style="display:none;">
  <div class="tape tape-left">
    <div class="tape-inner">
      <span>SERVER UNREACHABLE</span><span>SERVER UNREACHABLE</span><span>SERVER UNREACHABLE</span>
      <span>SERVER UNREACHABLE</span><span>SERVER UNREACHABLE</span><span>SERVER UNREACHABLE</span>
      <span>SERVER UNREACHABLE</span><span>SERVER UNREACHABLE</span><span>SERVER UNREACHABLE</span>
      <span>SERVER UNREACHABLE</span><span>SERVER UNREACHABLE</span><span>SERVER UNREACHABLE</span>
    </div>
  </div>
  <div class="tape tape-right">
    <div class="tape-inner">
      <span>SERVER UNREACHABLE</span><span>SERVER UNREACHABLE</span><span>SERVER UNREACHABLE</span>
      <span>SERVER UNREACHABLE</span><span>SERVER UNREACHABLE</span><span>SERVER UNREACHABLE</span>
      <span>SERVER UNREACHABLE</span><span>SERVER UNREACHABLE</span><span>SERVER UNREACHABLE</span>
      <span>SERVER UNREACHABLE</span><span>SERVER UNREACHABLE</span><span>SERVER UNREACHABLE</span>
    </div>
  </div>
</div>

<img src="logo.png" class="topLogo" alt="CloudVault">

<div class="auth-wrapper">
  <div class="card">
    <h2>Welcome Back ☁️</h2>
    <p class="subtitle">Sign in to your CloudVault</p>

    <div class="input-group">
      <input id="email" type="email" placeholder="Email address" autocomplete="email">
    </div>
    <div class="input-group">
      <input id="password" type="password" placeholder="Password" autocomplete="current-password"
             onkeydown="if(event.key==='Enter') login()">
    </div>

    <button id="loginBtn" onclick="login()">Login</button>

    <div id="loginMsg" class="msg"></div>

    <p><a href="forgot.html">Forgot password?</a></p>
    <p>No account? <a href="signup.html">Sign up free</a></p>
  </div>
</div>

<script src="app.js"></script>
<script>
  const tape = document.getElementById("tapeWrap");

  function checkServer() {
    fetch("https://cloudvault-backend-ntkz.onrender.com/", { signal: AbortSignal.timeout(5000) })
      .then(res => {
        if (res.ok) {
          tape.style.display = "none"; // Server is up — hide tape
        } else {
          tape.style.display = "block";
        }
      })
      .catch(() => {
        tape.style.display = "block"; // Server unreachable — show tape
      });
  }

  // Check immediately on load
  checkServer();

  // Keep checking every 10 seconds — hides tape the moment server wakes up
  setInterval(checkServer, 10000);
</script>
</body>
</html>